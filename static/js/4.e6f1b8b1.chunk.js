(this["webpackJsonpreact-instagram"]=this["webpackJsonpreact-instagram"]||[]).push([[4],{51:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(3),c=r(10),l=r(11),o=r(9),u=r(32),i=r(36),b=r.n(i),d=r(24),m=r(29),p=r(35),f=r(1),h=r(2),j=function(){function e(t,r,a,n,s,c,l){Object(f.a)(this,e),this.userId=t,this.fullname=r,this.username=a,this.email=n,this.following=s,this.followers=c,this.dateCreated=l}return Object(h.a)(e,[{key:"toString",value:function(){return this.fullname+", "+this.username+", "+this.email}}]),e}(),x={toFirestore:function(e){return{userId:e.userId,fullname:e.fullname,username:e.username,email:e.email,following:e.following,followers:e.followers,dateCreated:e.dateCreated}},fromFirestore:function(e,t){var r=e.data(t);return new j(r.userId,r.fullname,r.username,r.email,r.following,r.followers,r.dateCreated)}};function g(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(n.a.mark((function e(t){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(p.h)(Object(p.a)(p.c,"users"),Object(p.j)("username","==",t)),e.next=4,Object(p.g)(r);case 4:return a=e.sent,e.abrupt("return",a.docs.length>0);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),"Somethng went wrong";case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function O(e){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(p.d)(Object(p.a)(p.c,"users"),t.userId).withConverter(x),e.next=4,Object(p.i)(r,t);case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(e,t,r,a,n){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(n.a.mark((function e(t,r,a,s,c){var l,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.b)(t,s,c).catch((function(e){switch(console.log(e),e.code){case"auth/invalid-email":e="Email or password is invalid";break;case"auth/weak-password":e="Password is week";break;case"auth/email-already-in-use":e="Email already in use";break;default:console.log(e.code),console.log(e.message),e="Some thing went wrong. Please try again later"}throw e}));case 3:return l=e.sent,o=new j(l.user.uid,a,r.toLowerCase(),s,[],[],Date.now()),e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var N=r(13);t.default=function(){var e=Object(l.f)(),t=(Object(o.useContext)(u.a),Object(o.useState)("")),r=Object(c.a)(t,2),a=r[0],i=r[1],f=Object(o.useState)(""),h=Object(c.a)(f,2),j=h[0],x=h[1],w=Object(o.useState)(""),y=Object(c.a)(w,2),k=y[0],S=y[1],C=Object(o.useState)(""),E=Object(c.a)(C,2),I=E[0],P=E[1],D=Object(o.useState)(""),F=Object(c.a)(D,2),J=F[0],H=F[1],L=""===I||""===a,U=function(){var t=Object(s.a)(n.a.mark((function t(r){var s,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,g(j);case 4:if(!t.sent){t.next=10;break}return H("Username already exists"),t.abrupt("return");case 10:H("");case 11:return s=Object(p.f)(),t.next=14,v(s,j,k,a,I);case 14:return c=t.sent,console.log(c),t.next=18,O(c);case 18:e(d.a),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(1),console.log(t.t0),H(t.t0);case 25:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){document.title="Signup - instagram"}),[]),Object(N.jsxs)("div",{className:"container mx-auto flex max-w-screen-md h-screen",children:[Object(N.jsx)("div",{className:"flex w-3/5  m-auto ",children:Object(N.jsx)("img",{src:"/images/iphone-with-profile.jpg",alt:"iPhone"})}),Object(N.jsxs)("div",{className:"flex flex-col w-2/5 place-content-center ",children:[Object(N.jsxs)("div",{className:"bg-white p-4 border border-gray-primary mb-4 rounded",children:[Object(N.jsx)("h1",{className:"flex justfy-center place-content-center  w-full",children:Object(N.jsx)("img",{src:"/images/logo.png",alt:"instagram",className:"mt-2 w-6/12 mb-4"})}),J&&Object(N.jsx)("p",{className:"text-red-500 mb-4 text-sm  w-full",children:J}),Object(N.jsxs)("form",{onSubmit:U,method:"post",children:[Object(N.jsx)("input",{"aria-label":"Enter your username",className:"text-sm text-gray-base w-full py-5 px-4 h-2 border border-grey-primary rounded mb-2",type:"text",placeholder:"Enter username",onChange:function(e){return x(e.target.value)},value:j||""}),Object(N.jsx)("input",{"aria-label":"Enter your full name",className:"text-sm text-gray-base w-full py-5 px-4 h-2 border border-grey-primary rounded mb-2",type:"text",placeholder:"Enter fullname",onChange:function(e){return S(e.target.value)},value:k||""}),Object(N.jsx)("input",{"aria-label":"Enter your email address",className:"text-sm text-gray-base w-full py-5 px-4 h-2 border border-grey-primary rounded mb-2",type:"email",placeholder:"Email address",onChange:function(e){return i(e.target.value)},value:a||""}),Object(N.jsx)("input",{"aria-label":"Enter your email password",className:"text-sm text-gray-base w-full py-5 px-4 h-2 border border-grey-primary rounded mb-2",type:"password",placeholder:"Password",onChange:function(e){return P(e.target.value)},value:I}),Object(N.jsx)("button",{disabled:L,type:"submit",className:b()("bg-blue-500 text-white w-full py-3 rounded font-bold px-4 rounded mb-2"),children:"Sign up"})]})]}),Object(N.jsx)("div",{className:"flex justfy-center items-center flex-col w-full bg-white p-4 border border-gray-primary rounded",children:Object(N.jsxs)("p",{className:"text-sm",children:["Have an account?"," ",Object(N.jsx)(m.b,{to:d.b,className:"font-bold text-blue-medium",children:"Sign in"})]})})]})]})}}}]);
//# sourceMappingURL=4.e6f1b8b1.chunk.js.map